{% load static %}
{% load form_extras %}

<div id="editIngredientModal" class="modal-overlay">
    <div class="modal-content">
        <h3 class="modal-title">Edit Ingredient</h3>

        <a href="#" class="close-button">&times;</a>

        <form id="edit-ingredient-form" method="post" action="{% url 'edit_ingredient_popup' ingredient.id %}">
            {% csrf_token %}

            <div class="form-group">
                {{ form|get_label:"name" }}
                {{ form|get_item:"name" }}
            </div>
            <div class="form-group">
                {{ form|get_label:"category" }}
                {{ form|get_item:"category" }}
            </div>
            <div class="form-group">
                {{ form|get_label:"dietary_tag" }}
                {{ form|get_item:"dietary_tag" }}
            </div>
            <div class="form-group">
                {{ form|get_label:"base_quantity" }}
                {{ form|get_item:"base_quantity" }}
            </div>
            <div class="form-group">
                {{ form|get_label:"default_unit" }}
                {{ form|get_item:"default_unit" }}
            </div>

            {% for nutrient in nutrients %}
                {% with field_name="base_quantity_"|add:nutrient %}
                    <div class="form-group">
                        {{ form|get_label:field_name }}
                        {{ form|get_field:field_name }}
                    </div>
                {% endwith %}
            {% endfor %}

            <div class="form-actions">
                <button type="submit" class="btn">Save</button>
                <a href="#" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>
